<!DOCTYPE html>
<html xmlns:th="http://www.thymeLeaf.org">
<head>
<meta charset="UTF-8">
<title>Insert title here</title>
<link rel="stylesheet" th:href="@{/css/estilo.css}">
<link
	href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css"
	rel="stylesheet">
</head>
<body>

	<!-- Header -->
	<header th:replace="~{fragments/nav :: nav-principal}"
		class="custom-header"></header>

	<div class="flex-center">
		<div class="card shadow p-4 w-50">
			<h3 class="card-title text-center mb-4">Registrar Residencia</h3>
			<form th:action="@{/residencia/guardar}" class="mb-3" method="post"
				th:object="${r}" enctype="multipart/form-data">
				<input type="hidden" th:field="*{id_residencia}"/>
				<div class="mb-3">
					<label class="form-label">Título</label> <input type="text"
						class="form-control" id="titulo" th:field="*{titulo}" name="titulo" required>
				</div>
				<div class="mb-3">
					<label class="form-label">Descripción</label> <input type="text"
						class="form-control" name="descripcion" th:field="*{descripcion}"required>
				</div>
				<div class="mb-3">
					<label class="form-label">Estudiante</label> <select
						class="form-select" name="estudiante.id_estudiante" th:field="*{estudiante}" required>
						<!-- Opciones dinámicas -->
						<option value="" disabled selected>Seleccione un estudiante</option>
						<option th:each="es : ${e}" th:value="${es.id_estudiante}"
							th:text="${es.nombre}"></option>
					</select>
				</div>
				<div class="mb-3">
					<label class="form-label">Asesor Interno</label> <select
						class="form-select" name="asesorInterno.id_asesorint" th:field="*{asesorInterno}"id="asesorInterno.id_asesorint" required>
						<!-- Opciones dinámicas -->
						<option value="" disabled selected>Seleccione un asesor
							interno</option>
						<option th:each="ai : ${asin}" th:value="${ai.id_asesorint}"
							th:text="${ai.nombre}"></option>
					</select>
				</div>
				<div class="mb-3">
					<label class="form-label">Asesor Externo</label> <select
						class="form-select" name="asesorExterno.idAsesorEx" th:field="*{asesorExterno}" id="asesorExterno.idAsesorEx" required>
						<!-- Opciones dinámicas -->
						<option value="0" disabled selected>Seleccione un asesor
							interno</option>
						<option th:each="ai : ${asex}" th:value="${ai.idAsesorEx}"
							th:text="${ai.nombre}"></option>
					</select>
				</div>
				<div class="mb-3">
					<label class="form-label">Convenio</label> <select
						class="form-select" name="convenio.id_convenio" th:field="*{convenio}"required>
						<!-- Opciones dinámicas -->
						<option value="" disabled selected>Seleccione un asesor
							interno</option>
						<option th:each="con : ${c}" th:value="${con.id_convenio}"
							th:text="${con.nombre}"></option>
					</select> 
					
				</div>
				<button type="submit" class="btn btn-primary w-100">Guardar</button>
			</form>
			<button class="btn btn-secondary mb-3 mt-3" onclick="history.back()">←
				Volver</button>
		</div>
	</div>

	<!-- Botón de volver fuera de la tarjeta 
	<div class="d-flex justify-content-center mb-2">
		<button class="btn btn-secondary btn-sm mb-3"
			onclick="history.back()">← Volver</button>
	</div>-->

	<!-- Footer -->
	<footer th:insert="~{fragments/footer :: pie-pagina}"
		class="footer custom-footer"></footer>
</body>
</html>