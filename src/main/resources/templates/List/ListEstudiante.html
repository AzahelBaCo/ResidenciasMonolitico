<!DOCTYPE html>
<html xmlns:th="http://www.thymeLeaf.org" 
	xmlns:sec="http://www.thymeleaf.org/extras/spring-security" >
<head>
<meta charset="UTF-8">
<title>Insert title here</title>
<link rel="stylesheet" th:href="@{/css/estilo.css}">
<link
	href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css"
	rel="stylesheet">
</head>
<body>

	<!-- Header -->
	<header th:replace="~{fragments/nav :: nav-principal}"
		class="custom-header"></header>

	<!-- Tabla -->
	<div class="flex-center">
		<div class="container table-section">
			<div class=" justify-content-center mb-3">
				<h2 class="mb-4">Estudiantes Registrados</h2>
				<a th:href="@{/estudiante/crear}" class="btn px-4 py-2 fs-5 btn-success m-2">Nuevo</a>
			</div>
			<table class="table table-striped table-bordered">
				<thead class="table-dark">
					<tr>
						<th>ID</th>
						<th>Nombre</th>
						<th>Apellido Paterno</th>
						<th>Apellido Materno</th>
						<th>Carrera</th>
						<th>Semestre</th>
						<th>Fecha de Nacimiento</th>
						<th>Dirección</th>
						<th>Teléfono</th>
						<th>Acciones <th>
					</tr>
				</thead>
				<tbody class="text-center">
					<tr th:each="est : ${a}">
						<td th:text="${est.id_estudiante}">1</td>
						<td th:text="${est.nombre}">Nombre</td>
						<td th:text="${est.apellidoP}">Apellido P</td>
						<td th:text="${est.apellidoM}">Apellido M</td>
						<td th:text="${est.carrera}">Carrera</td>
						<td th:text="${est.semestre}">Semestre</td>
						<td th:text="${#dates.format(est.nacimiento, 'dd/MM/yyyy')}">Fecha</td>
						<td th:text="${est.direccion}">Dirección</td>
						<td th:text="${est.telefono}">Teléfono</td>
						<td>
						<a th:href="@{/estudiante/editar/{id} (id=${est.id_estudiante})}"
							class="btn btn-primary"> Editar </a>
						
						<a th:href="@{/estudiante/eliminar/{id} (id=${est.id_estudiante})}"
							class="btn btn-danger" onclick="return confirmarEliminacion()">
								Borrar </a> <script>
						    function confirmarEliminacion() {
						        return confirm("¿Seguro de que se elimine?");
						    }
						</script></td>
					</tr>
				</tbody>
			</table>
		</div>
	</div>

<!-- Botón de volver fuera de la tarjeta -->
	<div class="d-flex justify-content-center mb-2">
		<button class="btn btn-secondary btn-sm mb-3"
			onclick="history.back()">← Volver</button>
	</div>

	<!-- Footer -->
	<footer th:insert="~{fragments/footer :: pie-pagina}"
		class="footer custom-footer"></footer>
</body>
</html>